# Migration `20210503220346-new--db`

This migration has been generated by JeevantheDev at 5/3/2021, 10:03:46 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
PRAGMA foreign_keys=OFF;

CREATE TABLE "quaint"."Hospital" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"hospiatlEmail" TEXT NOT NULL  ,"hospitalContactNo" TEXT NOT NULL  ,"hospitalImage" TEXT   ,"hospitalType" TEXT NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"locationCity" TEXT NOT NULL  ,"locationCoordinates" TEXT NOT NULL  ,"locationCountryCode" TEXT NOT NULL  ,"locationFormattedAddress" TEXT NOT NULL  ,"locationState" TEXT NOT NULL  ,"locationType" TEXT NOT NULL  ,"locationZipcode" TEXT NOT NULL  ,"nameHospital" TEXT NOT NULL  ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"userId" INTEGER   ,FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."HospitalBeds" (
"currentBeds" INTEGER NOT NULL  ,"hospitalId" INTEGER   ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"totalBeds" INTEGER NOT NULL  ,FOREIGN KEY ("hospitalId") REFERENCES "Hospital"("id") ON DELETE SET NULL ON UPDATE CASCADE)

CREATE TABLE "quaint"."Account" (
"accessToken" TEXT   ,"accessTokenExpires" DATE   ,"compound_id" TEXT NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"providerAccountId" TEXT NOT NULL  ,"providerId" TEXT NOT NULL  ,"providerType" TEXT NOT NULL  ,"refreshToken" TEXT   ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"userId" INTEGER NOT NULL  )

CREATE TABLE "quaint"."Session" (
"accessToken" TEXT NOT NULL  ,"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"expires" DATE NOT NULL  ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"sessionToken" TEXT NOT NULL  ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"userId" INTEGER NOT NULL  )

CREATE TABLE "quaint"."User" (
"createdAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP ,"email" TEXT   ,"emailVerified" DATE   ,"id" INTEGER NOT NULL  PRIMARY KEY AUTOINCREMENT,"image" TEXT   ,"name" TEXT   ,"updatedAt" DATE NOT NULL DEFAULT CURRENT_TIMESTAMP )

CREATE UNIQUE INDEX "quaint"."Hospital.hospiatlEmail" ON "Hospital"("hospiatlEmail")

CREATE UNIQUE INDEX "quaint"."Account.compound_id" ON "Account"("compound_id")

CREATE  INDEX "quaint"."providerAccountId" ON "Account"("providerAccountId")

CREATE  INDEX "quaint"."providerId" ON "Account"("providerId")

CREATE  INDEX "quaint"."userId" ON "Account"("userId")

CREATE UNIQUE INDEX "quaint"."Session.sessionToken" ON "Session"("sessionToken")

CREATE UNIQUE INDEX "quaint"."Session.accessToken" ON "Session"("accessToken")

CREATE UNIQUE INDEX "quaint"."User.email" ON "User"("email")

PRAGMA "quaint".foreign_key_check;

PRAGMA foreign_keys=ON;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20210503220346-new--db
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,74 @@
+datasource db {
+  provider = "sqlite"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model Hospital {
+  id                        Int               @default(autoincrement()) @id
+  user                      User?             @relation(fields: [userId], references: [id])
+  userId                    Int?              
+  nameHospital              String            
+  locationType              String            
+  locationCoordinates       String           
+  locationFormattedAddress  String
+  locationCity              String            
+  locationState             String            
+  locationZipcode           String            
+  locationCountryCode           String            
+  hospitalType              String            
+  hospiatlEmail             String   @unique 
+  hospitalContactNo         String               
+  hospitalImage             String?           
+  createdAt                 DateTime          @default(now())
+  updatedAt                 DateTime          @default(now())
+}
+
+model HospitalBeds {
+  id                        Int               @default(autoincrement()) @id
+  hospital                  Hospital?         @relation(fields: [hospitalId], references: [id])
+  hospitalId                Int?             
+  totalBeds                 Int          
+  currentBeds               Int          
+}
+
+model Account {
+  id                 Int       @default(autoincrement()) @id
+  compoundId         String    @unique @map(name: "compound_id")
+  userId             Int       
+  providerType       String    
+  providerId         String   
+  providerAccountId  String    
+  refreshToken       String?   
+  accessToken        String?   
+  accessTokenExpires DateTime? 
+  createdAt          DateTime  @default(now()) 
+  updatedAt          DateTime  @default(now()) 
+
+  @@index([providerAccountId], name: "providerAccountId")
+  @@index([providerId], name: "providerId")
+  @@index([userId], name: "userId")
+}
+
+model Session {
+  id           Int      @default(autoincrement()) @id
+  userId       Int      
+  expires      DateTime
+  sessionToken String   @unique 
+  accessToken  String   @unique 
+  createdAt    DateTime @default(now())
+  updatedAt    DateTime @default(now())
+}
+
+model User {
+  id            Int       @default(autoincrement()) @id
+  name          String?
+  email         String?   @unique
+  emailVerified DateTime? 
+  image         String?
+  createdAt     DateTime  @default(now())
+  updatedAt     DateTime  @default(now())
+}
```


